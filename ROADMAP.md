# Dochi - 로드맵

## 완료됨

### macOS 앱 v1

- [x] 멀티 LLM (OpenAI, Anthropic, Z.AI) SSE 스트리밍
- [x] Apple STT 음성 입력
- [x] Supertonic ONNX 로컬 TTS (10종 음성)
- [x] 텍스트 + 음성 입력 통합 UI
- [x] 웨이크워드 자모 유사도 매칭
- [x] 연속 대화 모드
- [x] 대화 히스토리 저장/관리
- [x] system.md / memory.md 컨텍스트 관리
- [x] 메모리 자동 압축
- [x] 다중 사용자 프로필 (별칭, 기억 분리)
- [x] 내장 도구: 웹검색, 미리알림, 알람, 이미지 생성
- [x] MCP 서버 연동
- [x] 프로토콜 기반 DI + 단위 테스트

### 코드 품질 (Phase 1)

- [x] DochiViewModel 분리 (1062줄 → 모듈화)
- [x] 테스트 확장 (KeychainService, AppSettings 등)
- [x] 에러 핸들링 강화
- [x] 매직 넘버 / 하드코딩 문자열 정리

### 클라우드 컨텍스트 (Phase 2)

- [x] Supabase 프로젝트 셋업 및 워크스페이스 인증
- [x] 컨텍스트 클라우드 동기화 (system.md, memory.md, profiles)
- [x] 디바이스 레지스트리 및 온라인 상태 관리
- [x] 대화 히스토리 클라우드 동기화

---

## Phase 3 — 로컬 디바이스 제어

에이전트가 디바이스를 손발처럼 사용하기 위한 기반.

- [ ] Shell 실행 도구 — bash/zsh 명령어 실행, 출력 캡처, 타임아웃
- [ ] 코딩 에이전트 연동 — Claude Code, OpenCode 등 CLI 코딩 에이전트 실행 및 중계
  - [ ] 세션 관리 — 코딩 에이전트 세션 시작/중단/재개, 다중 세션 병렬 관리
  - [ ] 태스크 위임 — 자연어 지시를 코딩 에이전트에 전달, 완료 대기
  - [ ] 결과 중계 — 코딩 에이전트 출력을 요약하여 사용자에게 전달 (diff, 에러 등)
- [ ] 앱 제어 도구 — `open` 명령 + AppleScript로 앱 열기/조작 (FaceTime, Keynote, Finder 등)
- [ ] 파일 관리 도구 — 파일 읽기/쓰기/검색/이동/삭제
- [ ] Apple Shortcuts 연동 — `shortcuts` CLI로 사용자 정의 자동화 실행
- [ ] 스크린샷 도구 — `screencapture`로 화면 캡처, LLM에 이미지 전달
- [ ] 클립보드 도구 — NSPasteboard 읽기/쓰기
- [ ] 명령 실행 권한 시스템 — 허용/차단 목록, 위험 명령 사용자 확인

## Phase 4 — 멀티 에이전트

여러 에이전트가 각자의 페르소나로 동작하는 시스템.

- [ ] 에이전트 모델 및 디렉토리 구조 — `agents/{name}/system.md`, `memory.md`, `config.json`
- [ ] 에이전트별 웨이크워드 라우팅 — "도치야", "코디야" 등 호출어로 에이전트 전환
- [ ] 에이전트별 권한 시스템 — 도구/명령 사용 범위를 에이전트마다 설정
- [ ] 에이전트 관리 UI — 생성/편집/삭제, 페르소나 프리뷰
- [ ] 에이전트별 기억 분리 — 공유 기억 + 에이전트 고유 기억

## Phase 5 — 멀티 인터페이스

같은 워크스페이스에 다양한 인터페이스로 접근.

- [ ] CLI 클라이언트
- [ ] 텔레그램 봇 (DM + 피어 메시징)
- [ ] 슬랙 봇 (DM + 채널)
- [ ] 피어 간 메시지 라우팅 (텔레그램 → 집 Mac TTS 등)

## Phase 6 — 에이전트 오케스트레이션

디바이스 클러스터를 활용한 자동화.

- [ ] 태스크 큐 (클라우드에서 디바이스에 분배)
- [ ] 칸반 태스크 관리 (상태 추적, 핸드오프)
- [ ] Heartbeat 기반 백그라운드 에이전트
- [ ] 에이전트 워크플로우 (다단계 작업)

## Phase 7 — 경험 확장

- [ ] 3D 아바타 (대화 반응, 립싱크)
- [ ] iOS 컴패니언 앱
- [ ] 대화 내보내기 (마크다운/JSON)
