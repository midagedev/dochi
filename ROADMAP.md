# Dochi - 로드맵

## 완료됨 (macOS 앱 v1)

- [x] 멀티 LLM (OpenAI, Anthropic, Z.AI) SSE 스트리밍
- [x] Apple STT 음성 입력
- [x] Supertonic ONNX 로컬 TTS (10종 음성)
- [x] 텍스트 + 음성 입력 통합 UI
- [x] 웨이크워드 자모 유사도 매칭
- [x] 연속 대화 모드
- [x] 대화 히스토리 저장/관리
- [x] system.md / memory.md 컨텍스트 관리
- [x] 메모리 자동 압축
- [x] 다중 사용자 프로필 (별칭, 기억 분리)
- [x] 내장 도구: 웹검색, 미리알림, 알람, 이미지 생성
- [x] MCP 서버 연동
- [x] 프로토콜 기반 DI + 단위 테스트

---

## Phase 1 — 코드 품질 + 기반 정리

- [ ] `DochiViewModel` 분리 (현재 1000줄+)
- [ ] 테스트 확장 (KeychainService, AppSettings 등)
- [ ] 에러 핸들링 강화
- [ ] 매직 넘버 / 하드코딩 문자열 정리

## Phase 2 — 클라우드 컨텍스트 (Supabase)

DM을 여러 기기에서 이어쓰기 위한 기반.

- [ ] Supabase 프로젝트 셋업
- [ ] 워크스페이스 인증 (이메일/소셜)
- [ ] 컨텍스트 클라우드 저장 (system.md, memory.md, profiles)
- [ ] 편집 히스토리 (누가 언제 뭘 바꿨는지)
- [ ] 컨텍스트 계층 관리 (클라우드 베이스 + 기기별 로컬 오버라이드)
- [ ] 디바이스 레지스트리 (등록, 온라인 상태, capabilities)
- [ ] Heartbeat 상태 보고

## Phase 3 — 멀티 인터페이스

같은 워크스페이스에 다양한 인터페이스로 접근.

- [ ] CLI 클라이언트
- [ ] 텔레그램 봇 (DM + 피어 메시징)
- [ ] 슬랙 봇 (DM + 채널)
- [ ] 피어 간 메시지 라우팅 (텔레그램 → 집 Mac TTS 등)

## Phase 4 — 에이전트 오케스트레이션

디바이스 클러스터를 활용한 자동화.

- [ ] 태스크 큐 (클라우드에서 디바이스에 분배)
- [ ] 칸반 태스크 관리 (상태 추적, 핸드오프)
- [ ] Heartbeat 기반 백그라운드 에이전트
- [ ] 에이전트 워크플로우 (다단계 작업)

## Phase 5 — 경험 확장

- [ ] 3D 아바타 (대화 반응, 립싱크)
- [ ] iOS 컴패니언 앱
- [ ] 단축어(Shortcuts) 연동
- [ ] 대화 내보내기 (마크다운/JSON)
